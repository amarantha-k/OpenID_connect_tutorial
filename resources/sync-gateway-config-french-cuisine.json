{
  "interface":":4984",
  "log": ["*"],
  "logging": {
    "log_file_path": "/var/tmp/sglogs",
    "console": {
      "log_level": "debug",
      "log_keys": ["*"]
    },
    "error": {
      "enabled": true,
      "rotation": {
        "max_size": 20,
        "max_age": 180
      }
    },
    "warn": {
      "enabled": true,
      "rotation": {
        "max_size": 20,
        "max_age": 90
      }
    },
    "info": {
        "enabled": true,
        "rotation": {
            "max_size": 100,
            "max_age": 6,
            "localtime": false
        }
    },
    "debug": {
        "enabled": false,
        "rotation": {
            "max_size": 100,
            "max_age": 2,
            "localtime": false
        }
    }
  },
  "databases": {
    "french_cuisine": {
      "bucket_op_timeout_ms": 5000,
      "server": "http://cb-server:8091",
      "bucket": "french_cuisine",
      "username": "Administrator",
      "password": "password",
      "enable_shared_bucket_access": true,
      "import_docs": true,
      "num_index_replicas": 0,
      "roles": {
        "PDV_Bretagne_role": {
          "admin_channels": [ "PDV_Bretagne" ]
        },
        "PDV_Alsace_role": {
          "admin_channels": [ "PDV_Alsace" ]
        },
        "PDV_PACA_role": {
          "admin_channels": [ "PDV_PACA" ]
        }
      },
      "users":{
          "admin": {"password": "password", "admin_channels": ["*"]},
          "pierre": {"password": "password", "admin_roles": ["PDV_Bretagne_role"]},
          "paul": {"password": "password", "admin_roles": ["PDV_Bretagne_role"]},
          "jacques": {"password": "password", "admin_roles": ["PDV_Bretagne_role"]},
          "wolfgang": {"password": "password", "admin_roles": ["PDV_Alsace_role"]},
          "dimitri": {"password": "password", "admin_roles": ["PDV_Alsace_role"]},
          "marcel": {"password": "password", "admin_roles": ["PDV_PACA_role"]},
          "marius": {"password": "password", "admin_roles": ["PDV_PACA_role"]},
          "marcel": {"password": "password", "admin_roles": ["PDV_PACA_role"]},
          "marius": {"password": "password", "admin_roles": ["PDV_PACA_role"]}
      },
      "allow_conflicts": true,
      "revs_limit": 20,
      "oidc": {
        "providers": {
          "keycloakimplicit": {
            "issuer":"http://keycloak:8080/auth/realms/master",
            "client_id":"SyncGatewayFrenchCuisine",
            "register": true
          }
        }
      },
      "sync": `function (doc, oldDoc) {
        console.log("ENTERING sync function... 1/2");
        // Throw an error unless the user has one or more of those roles:
        // requireRole(["admin", "PDV_Bretagne"]);
        console.log("ENTERING sync function... 2/2");
        if (doc.channels) {
          console.log("doc.channels = " + doc.channels);
          channel(doc.channels);
       }

       console.log("QUITING sync function...");
      }`
    }
  }
}
